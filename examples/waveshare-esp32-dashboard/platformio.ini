[env:waveshare_esp32s3]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino

; PubSubClient needs a larger buffer for Maestra JSON payloads
build_flags =
  -DMQTT_MAX_PACKET_SIZE=1024

  ; ── TFT_eSPI configuration for Waveshare ESP32-S3 3.5" ILI9488 ──
  -DUSER_SETUP_LOADED=1
  -DILI9488_DRIVER=1
  -DTFT_WIDTH=320
  -DTFT_HEIGHT=480
  -DTFT_MOSI=11
  -DTFT_SCLK=12
  -DTFT_MISO=13
  -DTFT_CS=15
  -DTFT_DC=4
  -DTFT_RST=5
  -DTFT_BL=45
  -DSPI_FREQUENCY=40000000
  -DSPI_READ_FREQUENCY=16000000
  -DLOAD_GLCD=1
  -DLOAD_FONT2=1
  -DLOAD_FONT4=1
  -DLOAD_GFXFF=1
  -DSMOOTH_FONT=1

lib_deps =
  bodmer/TFT_eSPI@^2.5.0
  rkoptev/FT6336U@^1.0.0
  knolleary/PubSubClient@^2.8
  bblanchon/ArduinoJson@^7.0.0

; Copy the MaestraClient library from sdks/arduino/MaestraClient/
; into this project's lib/ folder, or add it as a lib_extra_dirs:
; lib_extra_dirs = ../../sdks/arduino

monitor_speed = 115200
upload_speed = 921600
